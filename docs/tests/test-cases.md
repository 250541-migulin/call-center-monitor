# Тест-кейсы

Все тест-кейсы основаны на Use Case’ах (UC1–UC9) и Flow of Events из SRS.

## UC1: Создать учётную запись пользователя

| ID | Название | Предусловия | Шаги | Ожидаемый результат |
|----|--------|--------------|------|---------------------|
| TC-UC1-01 | Успешное создание пользователя | Администратор авторизован | 1. Перейти в «Управление пользователями»<br>2. Нажать «Добавить пользователя»<br>3. Ввести логин = `newuser`<br>4. Выбрать роль = `Оператор`<br>5. Нажать «Сохранить» | 1. Сообщение «Пользователь успешно создан»<br>2. Пользователь появился в списке |
| TC-UC1-A1 | Логин уже существует | Админ авторизован, пользователь `test` уже есть | 1. Повторить шаги создания с логином `test` | 1. Ошибка: «Пользователь с таким логином уже существует»<br>2. Форма не закрыта |
| TC-UC1-A2 | Логин не указан | Админ авторизован | 1. Открыть форму<br>2. Не заполнять логин<br>3. Нажать «Сохранить» | 1. Подсветка поля<br>2. Ошибка: «Логин обязателен» |

## UC2: Настроить рабочее время

| ID | Название | Предусловия | Шаги | Ожидаемый результат |
|----|--------|--------------|------|---------------------|
| TC-UC2-01 | Успешное обновление времени | Админ авторизован | 1. Перейти в «Настройки системы»<br>2. Ввести `08:00` – `20:00`<br>3. Нажать «Сохранить» | 1. Сообщение «Рабочее время успешно обновлено» |
| TC-UC2-A1 | Время окончания раньше начала | Админ авторизован | 1. Ввести `20:00` – `08:00`<br>2. Нажать «Сохранить» | Ошибка: «Время окончания должно быть позже времени начала» |
| TC-UC2-A2 | Некорректный формат | Админ авторизован | 1. Ввести `9:0` – `18:00`<br>2. Нажать «Сохранить» | Ошибка: «Введите время в формате ЧЧ:ММ» |

## UC3: Обработать звонок и зафиксировать обращение

| ID | Название | Предусловия | Шаги | Ожидаемый результат |
|----|--------|--------------|------|---------------------|
| TC-UC3-01 | Успешное сохранение обращения | Звонок завершён, имя клиента заполнено | 1. Выбрать Ресурс = `portal.example.com`<br>2. Выбрать Тему = `Ошибка входа`<br>3. Выбрать Результат = `Решено`<br>4. Нажать «Сохранить» | 1. Сообщение «Обращение успешно сохранено»<br>2. Обращение в истории клиента |
| TC-UC3-A1 | Имя клиента не заполнено | Звонок завершён, имя **не заполнено** | 1. Открыть форму обращения | 1. Предупреждение: «Имя клиента не указано...»<br>2. Доступен переход к UC4 |
| TC-UC3-A2 | Не выбран Ресурс | Звонок завершён, имя заполнено | 1. Не выбирать Ресурс<br>2. Нажать «Сохранить» | 1. Подсветка полей<br>2. Ошибка: «Поля “Ресурс” и “Тема” обязательны» |

## UC4: Заполнить карточку клиента

| ID | Название | Предусловия | Шаги | Ожидаемый результат |
|----|--------|--------------|------|---------------------|
| TC-UC4-01 | Успешное заполнение карточки | Звонок завершён, карточка пустая | 1. Ввести Имя = `Иван Петров`<br>2. Ввести Организацию = `ООО Ромашка`<br>3. Нажать «Сохранить» | 1. Сообщение «Карточка обновлена»<br>2. Возврат к UC3 |
| TC-UC4-A1 | Имя не указано | Карточка открыта | 1. Оставить имя пустым<br>2. Нажать «Сохранить» | Ошибка: «Имя клиента обязательно» |

## UC5: Просмотреть историю обращений

| ID | Название | Предусловия | Шаги | Ожидаемый результат |
|----|--------|--------------|------|---------------------|
| TC-UC5-01 | История отображается | У клиента есть 2 обращения | 1. Открыть карточку клиента<br>2. Нажать «Показать историю» | Таблица с 2 строками, корректные данные |
| TC-UC5-A1 | Нет обращений | У клиента нет обращений | 1. Нажать «Показать историю» | Сообщение: «Нет записей в истории обращений» |

## UC6: Просмотреть статистику по операторам

| ID | Название | Предусловия | Шаги | Ожидаемый результат |
|----|--------|--------------|------|---------------------|
| TC-UC6-01 | Статистика загружена | Есть данные за сегодня | 1. Перейти в «Аналитика»<br>2. Нажать «Применить» (период = Сегодня) | Таблица с метриками, график отображён |
| TC-UC6-A1 | Нет данных за период | Нет звонков за выбранный день | 1. Выбрать период без данных<br>2. Нажать «Применить» | Сообщение: «Нет данных за указанный период» |

## UC7: Отфильтровать данные

| ID | Название | Предусловия | Шаги | Ожидаемый результат |
|----|--------|--------------|------|---------------------|
| TC-UC7-01 | Фильтрация по оператору | Есть данные от 2 операторов | 1. Выбрать одного оператора<br>2. Нажать «Применить фильтр» | Таблица содержит только записи выбранного оператора |
| TC-UC7-A1 | Нет данных по фильтру | Выбрать несуществующий клиент | 1. Ввести номер `+79990000000`<br>2. Применить | Сообщение: «Нет записей, соответствующих фильтрам» |

## UC8: Экспортировать отчёт в CSV

| ID | Название | Предусловия | Шаги | Ожидаемый результат |
|----|--------|--------------|------|---------------------|
| TC-UC8-01 | Успешный экспорт | Есть данные в таблице | 1. Нажать «Экспорт в CSV» | 1. Файл скачан<br>2. Имя файла: `call-center-report_YYYY-MM-DD_HH-MM.csv`<br>3. Содержимое — корректный CSV с UTF-8 |
| TC-UC8-A1 | Нет данных для экспорта | Таблица пуста | 1. Нажать «Экспорт в CSV» | Сообщение: «Нет данных для экспорта» |

## UC9: Просмотреть звонки вне рабочего времени

| ID | Название | Предусловия | Шаги | Ожидаемый результат |
|----|--------|--------------|------|---------------------|
| TC-UC9-01 | Звонки вне графика отображены | Есть звонки в 20:00 при графике 09–18 | 1. Перейти в «Звонки вне графика»<br>2. Применить период | Таблица содержит звонки после 18:00 |
| TC-UC9-A1 | Нет звонков вне графика | Все звонки — в рабочее время | 1. Применить период | Сообщение: «Нет звонков вне рабочего времени...» |