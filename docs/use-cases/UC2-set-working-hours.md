# UC2: Настроить рабочее время

## Актёр
Администратор

## Описание
Администратор задаёт интервал рабочего времени (например, 09:00–18:00), который используется системой для определения, считать ли звонок «рабочим» или «внерабочным».

## Предусловия
- Администратор авторизован в системе.
- Система содержит текущие настройки рабочего времени (по умолчанию: 09:00–18:00).

## Основной поток событий (Flow of Events)
1. Администратор переходит в раздел «Настройки системы».
2. Система отображает текущие значения: начало и конец рабочего времени.
3. Администратор вводит новое время начала (например, `08:00`) и окончания (например, `20:00`).
4. Администратор нажимает кнопку **«Сохранить»**.
5. Система проверяет корректность ввода (начало < конец, формат времени).
6. Система сохраняет новые настройки в базу данных.
7. Система отображает сообщение: **«Рабочее время успешно обновлено»**.

## Альтернативные потоки

### A1: Время окончания раньше времени начала
1. На шаге 5 система обнаруживает, что время окончания ≤ времени начала.
2. Система отображает сообщение: **«Время окончания должно быть позже времени начала»** под полями ввода.
3. Кнопка «Сохранить» остаётся активной, но данные не сохраняются до исправления.

### A2: Некорректный формат времени
1. Администратор вводит значение, не соответствующее формату `ЧЧ:ММ` (например, `9:0`, `25:00`, `abc`).
2. При потере фокуса с поля или при нажатии «Сохранить» система подсвечивает поле красным и показывает:  
   **«Введите время в формате ЧЧ:ММ (00–23:00–59)»**.
3. Сохранение блокируется до корректного ввода.

### A3: Отмена изменений
1. Администратор нажимает кнопку **«Отмена»**.
2. Система закрывает форму без сохранения изменений.

## Постусловия
- Новые настройки рабочего времени применяются ко всем последующим звонкам.
- Звонки вне указанного интервала автоматически помечаются как «внерабочие» и исключаются из расчёта пропущенных.